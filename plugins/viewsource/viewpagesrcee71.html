                    
    
                    
    
                    
    
<!DOCTYPE html>
<html>
    
<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=32868226 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 10:26:04 GMT -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>View Source</title>
        <link rel="canonical" href="../../pages/viewpageee71.html?pageId=32868226" />
        <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager.resource-base-url-pattern"]="\"(?:(?:/s/.*?/_)?/download)\"";
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"\"";
WRM._unparsedData["com.atlassian.plugins.browser.metrics.browser-metrics-plugin:browser-metrics.feature-data-provider-legacy"]="true";
</script>
<link type="text/css" rel="stylesheet" href="../../s/1b9968ac17721e3a6947d14e3a43c3f8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch9c16.css?build-number=5983" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/f3685658010e413141854089096800b5/_/download/contextbatch/css/plugin.viewsource/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/df762e50bc83a9608020a1ff1476cda6-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5a0f37b8e5a58a48983bc1f25fb099f6/_/download/contextbatch/css/page/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5a0f37b8e5a58a48983bc1f25fb099f6/_/download/contextbatch/css/page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/5714bd5a5c86641cad10106916cda7c8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/49f5f7dfc888d48bff618d087d8044cc/_/download/contextbatch/css/editor-content/batch.css" media="all">
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/49f5f7dfc888d48bff618d087d8044cc/_/download/contextbatch/css/editor-content/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/6/_/styles/colors74cd.css?spaceKey=DEVELOPER" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/6/_/styles/custom74cd.css?spaceKey=DEVELOPER" media="all">

    </head>

    <body class="mceContentBody aui-theme-default wiki-content fullsize">
        <p>&nbsp;</p>         <div class="contentLayout2">
<div class="columnLayout two-right-sidebar" data-layout="two-right-sidebar">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<table class="wysiwyg-macro" data-macro-name="tip" data-macro-id="9bae3586-7d03-4b45-b425-01b228b3209a" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading7f8c.png?definition=e3RpcH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>You can find all files used and modified in this step on <a href="https://github.com/ezsystems/ezstudio-beginner-tutorial/tree/step1">GitHub</a>.</p></td></tr></table><p>To start working on the scenario of this tutorial, you need to have <span class="inline-comment-marker" data-ref="9fb7eaa5-1e46-4d41-b7e5-c765900caceb">a minimal working website making use of fundamental eZ Platform functionalities. </span>You need to build it by hand from the ground up, starting with a clean eZ Enterprise installation. Just remember <span class="inline-comment-marker" data-ref="f34a3d82-231b-4bc2-aa42-d00dcfc1c1b1">that if you decide to change anything from the way it is shown here, you will need to double-check all code that will be provided here and make sure it fits your website.</span></p><table class="wysiwyg-macro" data-macro-name="note" data-macro-id="432ec9bb-eb59-4f4f-9761-4720c6a6b92e" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingdd57.png?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>Remember to start working with a <strong>clean</strong> eZ Enterprise installation, <strong>not</strong> Studio Demo.</p><p>To be able to follow all steps of the tutorial, make sure you are installing eZ Enterprise v1.7.0 or later.</p></td></tr></table><h2>Setting up the website</h2><p>To set up your starter website by hand, you need to follow these steps:</p><h3>1. Get a clean eZ Enterprise installation</h3><p>See <a class="confluence-link" href="../../display/DEVELOPER/Step%2b1_%2bInstallation.html" data-linked-resource-id="31429538" data-linked-resource-version="12" data-linked-resource-type="page" data-linked-resource-default-alias="Step 1: Installation" data-base-url="../../index.html">Step 1: Installation</a> <span class="inline-comment-marker" data-ref="84fab364-2e92-4464-87dc-1a88a2e59b61">for a guide to installing eZ Enterprise.</span></p><h3>2. Create Content Types</h3><p><span class="inline-comment-marker" data-ref="9574f738-8d87-4d5b-9e05-35944c1262bc">Log in to the back end – add <code>/ez</code> to your installation's address (e.g. <code>tutorial.lh/ez</code>) and log in using <code>admin</code> as the login and <code>publish</code> as the password. In the Admin Panel go to Content Types and create two Content Types (under the Content category) with the following settings:</span></p><h4>Dog Breed</h4><p><strong>Name:</strong> Dog Breed</p><p><strong>Identifier:</strong> dog_breed</p><p><strong>Content name pattern:</strong> &lt;name&gt;</p><p><strong>Fields:</strong></p><table class="confluenceTable"><tbody><tr><th colspan="1" class="confluenceTh">Field Type</th><th class="confluenceTh">Name</th><th class="confluenceTh">Identifier</th><th class="confluenceTh">Required</th><th class="confluenceTh">Searchable</th><th class="confluenceTh">Translatable</th></tr><tr><td colspan="1" class="confluenceTd">TextLine</td><td class="confluenceTd">Name</td><td class="confluenceTd">name</td><td class="confluenceTd">Y</td><td class="confluenceTd">Y</td><td class="confluenceTd">Y</td></tr><tr><td colspan="1" class="confluenceTd">TextLine</td><td class="confluenceTd">Short Description</td><td class="confluenceTd">short_description</td><td class="confluenceTd">Y</td><td class="confluenceTd">Y</td><td class="confluenceTd">Y</td></tr><tr><td colspan="1" class="confluenceTd">Image</td><td class="confluenceTd">Photo</td><td class="confluenceTd">photo</td><td class="confluenceTd">Y</td><td class="confluenceTd"> </td><td class="confluenceTd"> </td></tr><tr><td colspan="1" class="confluenceTd">RichText</td><td class="confluenceTd">Full Description</td><td class="confluenceTd">description</td><td class="confluenceTd">Y</td><td class="confluenceTd">Y</td><td class="confluenceTd">Y</td></tr></tbody></table><h4>Tip</h4><p><strong>Name:</strong> Tip</p><p><strong>Identifier:</strong> tip</p><p><strong>Content name pattern:</strong> &lt;title&gt;</p><p><strong>Fields:</strong></p><table class="confluenceTable"><tbody><tr><th colspan="1" class="confluenceTh">Field Type</th><th class="confluenceTh">Name</th><th class="confluenceTh">Identifier</th><th class="confluenceTh">Required</th><th class="confluenceTh">Searchable</th><th class="confluenceTh">Translatable</th></tr><tr><td colspan="1" class="confluenceTd">TextLine</td><td class="confluenceTd">Title</td><td class="confluenceTd">title</td><td class="confluenceTd">Y</td><td class="confluenceTd">Y</td><td class="confluenceTd">Y</td></tr><tr><td colspan="1" class="confluenceTd">TextBlock</td><td class="confluenceTd">Body</td><td class="confluenceTd">body</td><td class="confluenceTd"> </td><td class="confluenceTd"> </td><td class="confluenceTd">Y</td></tr></tbody></table><h4>Modify existing Article Content Type</h4><p><span class="inline-comment-marker" data-ref="34114f48-f396-4710-b05c-850bdad591ee">You also need to make one modification of the preexisting Article Content Type.</span> Edit this type, remove the Image field that is of the Content Relation type, and create a new Field in its place:</p><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Name</th><th class="confluenceTh">Identifier</th><th colspan="1" class="confluenceTh">Field Type</th><th class="confluenceTh">Required</th><th class="confluenceTh">Searchable</th><th class="confluenceTh">Translatable</th></tr><tr><td class="confluenceTd">Image</td><td class="confluenceTd">image</td><td colspan="1" class="confluenceTd">Image</td><td class="confluenceTd"> </td><td class="confluenceTd"> </td><td class="confluenceTd">Y</td></tr></tbody></table><p><img class="confluence-embedded-image image-center" alt="New image Field in the Article Content Type" height="250" src="../../download/attachments/32868226/iadw_image_in_article_ct3476.png?version=1&amp;modificationDate=1478253370000&amp;api=v2" data-image-src="/download/attachments/32868226/iadw_image_in_article_ct.png?version=1&amp;modificationDate=1478253370000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="32868215" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="iadw_image_in_article_ct.png" data-base-url="https://doc.ez.no" data-linked-resource-content-type="image/png" data-linked-resource-container-id="32868226" data-linked-resource-container-version="14" title="Developer > Step 1 - Getting your starter website > iadw_image_in_article_ct.png" data-location="Developer > Step 1 - Getting your starter website > iadw_image_in_article_ct.png" data-image-height="343" data-image-width="372"></p><p>Now inserting photos into articles will be easier. <span class="inline-comment-marker" data-ref="c8924678-4e2b-403d-a40a-a0c7ec86553a">Reaching the final result of the tutorial without this change</span> would require you to spend more time creating content, which we want to avoid in this case.</p><h3>3. Add template, configuration and style files</h3><p>Place the <code><span class="confluence-link"><a href="https://github.com/ezsystems/ezstudio-beginner-tutorial/blob/step1/app/Resources/views/pagelayout.html.twig">pagelayout.html.twig</a></span></code>  and <a href="https://github.com/ezsystems/ezstudio-beginner-tutorial/blob/step1/app/Resources/views/pagelayout_menu.html.twig"><code><span class="confluence-link">pagelayout_menu.html.twig</span></code></a> files in your <code>app/Resources/views</code> folder. Cre<span class="inline-comment-marker" data-ref="3ec6aa0a-9ecf-4003-b13a-a277bc66a908">ate a</span> new folder, called <code>full</code>, under <code>views</code>. Place further template files in it:</p><ul><li><code><span class="confluence-link"><a href="https://github.com/ezsystems/ezstudio-beginner-tutorial/blob/step1/app/Resources/views/full/article.html.twig">article.html.twig</a></span></code></li><li><code><span class="confluence-link"><a href="https://github.com/ezsystems/ezstudio-beginner-tutorial/blob/step1/app/Resources/views/full/dog_breed.html.twig">dog_breed.html.twig</a></span></code></li><li><code><span class="confluence-link"><a href="https://github.com/ezsystems/ezstudio-beginner-tutorial/blob/step1/app/Resources/views/full/folder.html.twig">folder.html.twig</a></span></code></li><li><a href="https://github.com/ezsystems/ezstudio-beginner-tutorial/blob/step1/app/Resources/views/full/tip.html.twig"><code><span class="confluence-link">tip.html.twig</span></code></a>.</li></ul><p>Place <span class="inline-comment-marker" data-ref="cb27a827-5b52-4373-8f66-c97ad6b68c32">two configuration files</span> in your <code>app/config</code> folder:</p><ul><li><code><span class="confluence-link"><a href="https://github.com/ezsystems/ezstudio-beginner-tutorial/blob/step1/app/config/views.yml">views.yml</a></span></code></li><li><code><span class="confluence-link"><a href="https://github.com/ezsystems/ezstudio-beginner-tutorial/blob/step1/app/config/image_variations.yml">image_variations.yml</a></span></code>.</li></ul><p>Modify the <code>config.yml</code> file that is located in this folder and add the <span class="inline-comment-marker" data-ref="e0ee870f-bb93-4d5d-9f31-f36d9367269c">following lines at the end of the imports block</span>:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="a7fb791e-f07d-4499-a09d-53ae5abe617f" data-macro-parameters="title=in app/config/config.yml" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading7170.png?definition=e2NvZGU6dGl0bGU9aW4gYXBwL2NvbmZpZy9jb25maWcueW1sfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>    - { resource: views.yml }
    - { resource: image_variations.yml }</pre></td></tr></table><p>Create an <code>assets/css</code> subfolder in the <code>web</code> folder and add this stylesheet file to it: <a href="https://github.com/ezsystems/ezstudio-beginner-tutorial/blob/step1/web/assets/css/style.css"><code><span class="confluence-link">style.css</span></code></a>.</p><p>Create an <code>images</code> folder under <code>web/assets</code> and add the <a href="https://github.com/ezsystems/ezstudio-beginner-tutorial/blob/step1/web/assets/images/header.jpg"><code><span class="confluence-link">header.jpg</span></code></a> file to it.</p><p>In the <code>src/AppBundle</code> folder create a <code>QueryType</code> subfolder and add <code><span class="confluence-link"><a href="https://github.com/ezsystems/ezstudio-beginner-tutorial/blob/step1/src/AppBundle/QueryType/LocationChildrenQueryType.php">LocationChildrenQueryType.php</a></span></code> to it. This file allows your folders to display all content that they contain (read up on it <span class="confluence-link"><span class="confluence-link"><span class="confluence-link"><span class="confluence-link"><span class="confluence-link"><a class="confluence-link" href="../../display/DEVELOPER/Content%2bRendering.html#ContentRendering-Querycontroller" data-anchor="Querycontroller" data-linked-resource-id="31429679" data-linked-resource-version="70" data-linked-resource-type="page" data-linked-resource-default-alias="Content Rendering#Querycontroller" data-base-url="../../index.html">in the documentation</a></span></span></span></span></span>).</p><p>Finally, add the following files in <code>src/</code>, to create dynamic links in the top menu:</p><ul><li><p><code>Controller/<span class="confluence-link"><a href="https://github.com/ezsystems/ezstudio-beginner-tutorial/blob/step1/src/AppBundle/Controller/MenuController.php">MenuController.php</a></span></code></p></li><li><code>DependencyInjection/<a href="https://github.com/ezsystems/ezstudio-beginner-tutorial/blob/step1/src/AppBundle/DependencyInjection/AppExtension.php"><span class="confluence-link">AppExtension.php</span></a><span class="confluence-link"> </span></code></li><li><code>QueryType/<a href="https://github.com/ezsystems/ezstudio-beginner-tutorial/blob/step1/src/AppBundle/QueryType/MenuQueryType.php"><span class="confluence-link">MenuQueryType.php</span></a><span class="confluence-link"> </span></code></li><li><code>Resources/config/<span class="confluence-link"><a href="https://github.com/ezsystems/ezstudio-beginner-tutorial/blob/step1/src/AppBundle/Resources/config/services.yml">services.yml</a></span></code></li></ul><p>All the files we've placed in <code>src/</code>are not the scope of this tutorial and we won't go here into detail on how they work.</p><p>This is what the structure of the new and modified files should look like (excluding preexisting files):</p><p><img class="confluence-embedded-image image-center" alt="File structure" src="../../download/attachments/32868226/iadw_file_structure9d00.png?version=2&amp;modificationDate=1479281594000&amp;api=v2" data-image-src="/download/attachments/32868226/iadw_file_structure.png?version=2&amp;modificationDate=1479281594000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="32868213" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="iadw_file_structure.png" data-base-url="https://doc.ez.no" data-linked-resource-content-type="image/png" data-linked-resource-container-id="32868226" data-linked-resource-container-version="14" title="Developer > Step 1 - Getting your starter website > iadw_file_structure.png" data-location="Developer > Step 1 - Getting your starter website > iadw_file_structure.png" data-image-height="331" data-image-width="766"></p><h3>4. Create content</h3><p>Now return to the app and create some content for your website.</p><p>First, make three Folders under the Home Content item. <span class="inline-comment-marker" data-ref="3c9c771d-63a1-447a-937d-abe6fe98707b">Call them All Articles</span>, Dog Breed Catalog and All Tips.</p><p>Next, <span class="inline-comment-marker" data-ref="e7dabb62-b50a-410d-8987-e9ac716db7ab">create a few Content items of proper Content Types</span> in each of these folders:</p><ul><li>6 Articles (at least, to best see the effects of Schedule blocks that we will deal with in step 3.)</li><li>3 Dog Breeds</li><li>3 Tips</li></ul><p> When you need an image, preferably use one from our <a class="confluence-link" href="../../download/attachments/32868226/Photos3476.zip?version=1&amp;modificationDate=1478253370000&amp;api=v2" data-linked-resource-container-id="32868226" data-linked-resource-container-version="14" data-linked-resource-content-type="application/zip" data-linked-resource-id="32868216" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Photos.zip" data-base-url="../../index.html">image pack</a>, as this will let you compare the effect of your work to screenshots in the tutorial text.</p><p>At this point you are ready to proceed with the next step.</p><p> </p><hr /><p> </p><table class="wysiwyg-macro" data-macro-name="section" data-macro-id="82b25c23-c5eb-4b0b-97c7-ef45f8d8a9d6" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading83a9.png?definition=e3NlY3Rpb259&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><table class="wysiwyg-macro" data-macro-name="column" data-macro-id="f8e35ea2-5cdc-4d71-a073-61af83c8f169" data-macro-parameters="width=50%" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading99b3.png?definition=e2NvbHVtbjp3aWR0aD01MCV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p> <span class="char" title="Leftwards Black Arrow">⬅</span> Previous: <a class="confluence-link" href="../../display/DEVELOPER/eZ%2bEnterprise%2bBeginner%2bTutorial%2b-%2bIt%27s%2ba%2bDog%27s%2bWorld.html" data-linked-resource-id="32868209" data-linked-resource-version="5" data-linked-resource-type="page" data-linked-resource-default-alias="eZ Enterprise Beginner Tutorial - It's a Dog's World" data-base-url="../../index.html">eZ Enterprise Beginner Tutorial - It's a Dog's World</a></p></td></tr></table><table class="wysiwyg-macro" data-macro-name="column" data-macro-id="6a852f43-ea6d-4d4c-82f6-17d13235cf6c" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading16cd.png?definition=e2NvbHVtbn0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p class="confluence-link" style="text-align: right;">Next: <a class="confluence-link" href="../../display/DEVELOPER/Step%2b2%2b-%2bPreparing%2bthe%2bLanding%2bPage.html" data-linked-resource-id="32868235" data-linked-resource-version="10" data-linked-resource-type="page" data-linked-resource-default-alias="Step 2 - Preparing the Landing Page" data-base-url="../../index.html">Step 2 - Preparing the Landing Page</a> <span class="confluence-link" title="Black Rightwards Arrow">➡</span></p></td></tr></table></td></tr></table></div>
</div>
<div class="cell aside" data-type="aside">
<div class="innerCell">
<table class="wysiwyg-macro" data-macro-name="panel" data-macro-id="ba5ddb08-80e8-414e-8c6c-6cac3ff5f967" data-macro-parameters="bgColor=#ffffff|borderColor=#f58220|borderWidth=2|title=Tutorial path|titleBGColor=#ffffff" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingee25.png?definition=e3BhbmVsOmJvcmRlckNvbG9yPSNmNTgyMjB8YmdDb2xvcj0jZmZmZmZmfGJvcmRlcldpZHRoPTJ8dGl0bGVCR0NvbG9yPSNmZmZmZmZ8dGl0bGU9VHV0b3JpYWwgcGF0aH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macrofe5e.png?definition=e3BhZ2V0cmVlOnJvb3Q9ZVogRW50ZXJwcmlzZSBCZWdpbm5lciBUdXRvcmlhbCAtIEl0J3MgYSBEb2cncyBXb3JsZH0&amp;locale=en_GB&amp;version=2" data-macro-name="pagetree" data-macro-id="24bdaffb-6a4d-4e86-b7c2-c555bc8fa2b2" data-macro-parameters="root=eZ Enterprise Beginner Tutorial - It's a Dog's World" data-macro-schema-version="1"></p></td></tr></table></div>
</div>
</div>
</div>
        <p>&nbsp;</p>
    </body>

<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=32868226 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 10:26:04 GMT -->
</html>
