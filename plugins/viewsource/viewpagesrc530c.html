                    
    
                    
    
                    
    
<!DOCTYPE html>
<html>
    
<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=31430597 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 23:53:41 GMT -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>View Source</title>
        <link rel="canonical" href="../../pages/viewpage530c.html?pageId=31430597" />
        <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager.resource-base-url-pattern"]="\"(?:(?:/s/.*?/_)?/download)\"";
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"\"";
WRM._unparsedData["com.atlassian.plugins.browser.metrics.browser-metrics-plugin:browser-metrics.feature-data-provider-legacy"]="true";
</script>
<link type="text/css" rel="stylesheet" href="../../s/1b9968ac17721e3a6947d14e3a43c3f8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch9c16.css?build-number=5983" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/f3685658010e413141854089096800b5/_/download/contextbatch/css/plugin.viewsource/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/df762e50bc83a9608020a1ff1476cda6-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5a0f37b8e5a58a48983bc1f25fb099f6/_/download/contextbatch/css/page/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5a0f37b8e5a58a48983bc1f25fb099f6/_/download/contextbatch/css/page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/5714bd5a5c86641cad10106916cda7c8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/49f5f7dfc888d48bff618d087d8044cc/_/download/contextbatch/css/editor-content/batch.css" media="all">
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/49f5f7dfc888d48bff618d087d8044cc/_/download/contextbatch/css/editor-content/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/16/_/styles/colors.css" media="all">

    </head>

    <body class="mceContentBody aui-theme-default wiki-content fullsize">
        <p>&nbsp;</p>         <div class="contentLayout2">
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<table class="wysiwyg-macro" data-macro-name="info" data-macro-id="475b7125-7fc1-4d9c-80af-c3c762b33694" data-macro-parameters="title=General installation guide for all eZ distributions" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingaa02.png?definition=e2luZm86dGl0bGU9R2VuZXJhbCBpbnN0YWxsYXRpb24gZ3VpZGUgZm9yIGFsbCBlWiBkaXN0cmlidXRpb25zfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macro219c.png?definition=e2FuY2hvcjpJbnN0YWxsYXRpb25MaW5rc30&amp;locale=en_GB&amp;version=2" data-macro-name="anchor" data-macro-id="1b5bfbc3-974b-4dd6-9910-63a41bab2b8a" data-macro-default-parameter="InstallationLinks" data-macro-schema-version="1">This installation guide can be followed with any eZ Symfony distribution, here are a list of available <span>distributions from eZ</span>:</p><table class="confluenceTable"><tbody><tr><th colspan="1" class="confluenceTh">Type</th><th class="confluenceTh">Archive</th><th colspan="1" class="confluenceTh">License</th><th colspan="1" class="confluenceTh">GIT <em>/ Composer</em></th></tr><tr><td colspan="1" class="confluenceTd">eZ Platform<span style="color: rgb(128,128,128);"> <em> - &quot;clean&quot;</em> </span></td><td class="confluenceTd"><a href="http://share.ez.no/downloads/downloads">share.ez.no/downloads/downloads</a></td><td colspan="1" class="confluenceTd">GPL</td><td colspan="1" class="confluenceTd"><a href="https://github.com/ezsystems/ezplatform">ezsystems/ezplatform</a> (<a href="https://github.com/ezsystems/ezplatform/blob/master/INSTALL.md">INSTALL.md</a>)</td></tr><tr><td colspan="1" class="confluenceTd"><span>eZ Platform</span> <span style="color: rgb(128,128,128);"> <em> - &quot;demo&quot;</em> </span></td><td colspan="1" class="confluenceTd"><span style="color: rgb(128,128,128);"> <em>Available via Git / Composer</em> </span></td><td colspan="1" class="confluenceTd">GPL</td><td colspan="1" class="confluenceTd"><a href="https://github.com/ezsystems/ezplatform-demo">ezsystems/ezplatform-demo</a></td></tr><tr><td colspan="1" class="confluenceTd">eZ Studio<span style="color: rgb(128,128,128);"> <em> - with demo</em> </span></td><td class="confluenceTd"><span style="color: rgb(153,153,153);"> <a href="https://support.ez.no/Downloads">support.ez.no/Downloads</a> </span></td><td colspan="1" class="confluenceTd">BUL <span style="color: rgb(128,128,128);">(<em> <em> <em>requires eZ Enterprise subscription)</em> </em> </em> </span></td><td colspan="1" class="confluenceTd"><a href="https://github.com/ezsystems/ezstudio">ezsystems/ezstudio</a> <span> (</span> <a href="https://github.com/ezsystems/ezstudio/blob/master/INSTALL.md">INSTALL.md</a> <span>)</span></td></tr></tbody></table></td></tr></table></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2>Terms used in this guide</h2></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<ul><li><code>/&lt;root-dir&gt;/</code>: The filesystem path where eZ distribution is installed in. Examples: <code>/home/myuser/www/</code> or <code>/var/sites/&lt;project-name&gt;/</code></li><li>cli: command line interface. For <em>Linux/BSD/OS X</em> specific commands, use of <code>bash</code> or similar is assumed.</li></ul></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2>Prerequisites</h2></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>These instructions assume you have technical knowledge and have already installed PHP, web server &amp; <em>a database server</em> needed for this software. For further information on requirements <a class="confluence-link unresolved" data-content-title="Requirements" data-linked-resource-default-alias="Requirements" href="#">see Requirements page</a>.</p><p><strong>Before you start</strong>:</p><p>- Create Database: installation will ask you for credentials/details for the database to use.</p><table class="wysiwyg-macro" data-macro-name="note" data-macro-id="25427c2c-d137-4285-bd46-3059aa9ead24" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingdd57.png?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body">Right now the installer only supports MySQL and MariaDB, Postgres support will be (re)added in upcoming releases.</td></tr></table><p>- Set php.ini memory_limit=256M before running the commands below.</p><p>- <em>Optional:</em> You can also set up Solr to be used by eZ distribution and take note of the url it is accessible on.</p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2>Installation</h2></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p><strong>1. Install/Extract eZ distribution</strong>:</p><p>Described below are two methods of installing eZ distribution. What is common between them is that you should make sure relevant settings are generated into <code>app/config/parameters.yml</code> as a result of this step.</p><p><code>parameters.yml</code> contains settings for your database, mail system, and optionally <a href="http://lucene.apache.org/solr/">Solr</a> if <code>search_engine</code> is configured as <code>solr</code>, as opposed to default <code>legacy</code> <em>(a limited database-powered search engine)</em>.</p><p><strong>A. Extract archive</strong> (tar/zip) from the relevant address listed in the <a class="confluence-link" href="../../display/DEVELOPER/Step%2b1_%2bInstallation.html#Step1:Installation-InstallationLinks" data-anchor="InstallationLinks" data-linked-resource-default-alias="InstallationLinks" data-base-url="../../index.html">table above</a>.</p><p>Extract the eZ distribution archive to a directory, then execute post-install scripts:</p><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="6a979305-f81b-4048-894e-e74c4d2e7482" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingd35c.png?definition=e2luZm99&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body">The post-install scripts will ask you to fill in some settings, including database settings.</td></tr></table><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="2a08b804-f0f6-4157-ad98-8c2a2345ed2a" data-macro-parameters="language=bash" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading174f.png?definition=e2NvZGU6bGFuZ3VhZ2U9YmFzaH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>$ cd /&lt;directory>/
$ curl -sS https://getcomposer.org/installer | php
$ php -d memory_limit=-1 composer.phar run-script post-install-cmd</pre></td></tr></table><p><strong>B.</strong> <strong>Install via Composer.</strong></p><p>Run composer require with one of the <a class="confluence-link" href="../../display/DEVELOPER/Step%2b1_%2bInstallation.html#Step1:Installation-InstallationLinks" data-anchor="InstallationLinks" data-linked-resource-default-alias="InstallationLinks" data-base-url="../../index.html">packages listed at the top of this page</a>:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="2ccd445d-44be-4561-bd71-9d3485c9eb9c" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading34e7.png?definition=e2NvZGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre># install ezplatform
composer create-project --prefer-dist --no-dev --keep-vcs ezsystems/ezplatform

# install ezplatform with demo
composer create-project --prefer-dist --no-dev --keep-vcs ezsystems/ezplatform-demo
 
# install ezstudio (requires eZ Enterprise license/credentials)
composer create-project --prefer-dist --no-dev --keep-vcs ezsystems/ezstudio</pre></td></tr></table><p>At the end of the installation process, you will be asked for basic configuration options, such as database credentials.</p><p><strong>2.</strong> <em> Only for</em> <em>*NIX users </em> <strong>Setup folder rights:</strong></p><p>Like most things, <a href="http://symfony.com/doc/current/book/installation.html#checking-symfony-application-configuration-and-setup">Symfony documentation</a> applies here, meaning <code>app/cache</code> and <code>app/logs</code> need to be writable by cli and web server user. Furthermore, future files and directories created by these two users will need to inherit those access rights. <em>For security reasons, there is no need for web server to have access to write to other directories.</em></p><p>Change <code>www-data</code> to your web server user:</p><p><strong>A. Using ACL on a <em> <span class="blob-code-inner"> <span class="pl-mb"> <span class="x x-first x-last">Linux/BSD </span> </span> </span> </em>system that supports chmod +a</strong></p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="49a003ba-221d-4d25-97fe-ec46bf0f5e5e" data-macro-parameters="language=bash" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading174f.png?definition=e2NvZGU6bGFuZ3VhZ2U9YmFzaH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>$ rm -rf app/cache/* app/logs/*
$ sudo chmod +a "www-data allow delete,write,append,file_inherit,directory_inherit" \
  app/cache app/logs web
$ sudo chmod +a "`whoami` allow delete,write,append,file_inherit,directory_inherit" \
  app/cache app/logs web</pre></td></tr></table><p><strong>B. Using ACL on a <strong> <em> <span class="blob-code-inner"> <span class="pl-mb"> <span class="x x-first x-last">Linux/BSD </span> </span> </span> </em> </strong>system that does not support chmod +a</strong></p><p>Some systems don't support chmod +a, but do support another utility called setfacl. You may need to enable ACL support on your partition and install setfacl before using it (as is the case with Ubuntu), in this way:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="0631c719-aeed-4f67-9308-1177421aafcf" data-macro-parameters="language=bash" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading174f.png?definition=e2NvZGU6bGFuZ3VhZ2U9YmFzaH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>$ sudo setfacl -R -m u:www-data:rwx -m u:`whoami`:rwx \
  app/cache app/logs web
$ sudo setfacl -dR -m u:www-data:rwx -m u:`whoami`:rwx \
  app/cache app/logs web</pre></td></tr></table><p><strong>C. Using chown on <em> <span class="blob-code-inner"> <span class="pl-mb"> <span class="x x-first x-last">Linux/BSD/OS X</span> </span> </span> </em> systems that don't support ACL</strong></p><p>Some systems don't support ACL at all. You will need to set your web server's user as the owner of the required directories:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="1be1be1f-0970-4041-8630-c90b61fae4b7" data-macro-parameters="language=bash" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading174f.png?definition=e2NvZGU6bGFuZ3VhZ2U9YmFzaH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>$ sudo chown -R www-data:www-data app/cache app/logs web
$ sudo find {app/{cache,logs},web} -type d | xargs sudo chmod -R 775
$ sudo find {app/{cache,logs},web} -type f | xargs sudo chmod -R 664</pre></td></tr></table><p><strong>D. Using chmod <span class="blob-code-inner"> <span class="pl-mb"> <span class="x x-first x-last"> on a <em>Linux/BSD/OS X</em> system where you can't change owner</span> </span> </span> <br /> </strong></p><p>If you can't use ACL and aren't allowed to change owner, you can use chmod, making the files writable by everybody. Note that this method really isn't recommended as it allows any user to do anything:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="fb5ce72a-d91c-4708-98ac-a3c4c1aa4d65" data-macro-parameters="language=bash" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading174f.png?definition=e2NvZGU6bGFuZ3VhZ2U9YmFzaH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>$ sudo find {app/{cache,logs},web} -type d | xargs sudo chmod -R 777
$ sudo find {app/{cache,logs},web} -type f | xargs sudo chmod -R 666</pre></td></tr></table><p>When using chmod, note that newly created files (such as cache) owned by the web server's user may have different/restrictive permissions. In this case, it may be required to change the umask so that the cache and log directories will be group-writable or world-writable (<code>umask(0002)</code> or <code>umask(0000)</code> respectively).</p><p>It may also possible to add the group ownership inheritance flag so new files inherit the current group, and use <code>775</code>/<code>664</code> in the command lines above instead of world-writable:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="04651f75-b0bf-4e20-be25-650a0a4de2c7" data-macro-parameters="language=bash" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading174f.png?definition=e2NvZGU6bGFuZ3VhZ2U9YmFzaH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>$ sudo chmod g+s {app/{cache,logs},web}</pre></td></tr></table><p><strong>E. Setup folder rights on Windows</strong></p><p>For your choice of web server you'll need to make sure web server user has read access to <code>&lt;root-dir&gt;</code>, and write access to the following directories:</p><ul><li>app/cache</li><li>app/logs</li></ul><p><strong>3. Configure a VirtualHost</strong>:</p><p>A virtual host setup is the recommended, most secure setup of eZ distribution. General virtual host setup template for Apache and Nginx can be found in the <code>doc/</code> folder of your eZ installation. For the latest version you can also find it in same <code>doc/</code> folder in the relevant Git repository listed in the <a class="confluence-link" href="../../display/DEVELOPER/Step%2b1_%2bInstallation.html#Step1:Installation-InstallationLinks" data-anchor="InstallationLinks" data-linked-resource-default-alias="InstallationLinks" data-base-url="../../index.html">table above</a>.</p><p><strong>4. Run installation command</strong>:</p><p>You may now complete the eZ distribution installation with the <code>ezplatform:install </code>command, however which options you may install depends on your distribution:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="b6c7cc73-4e82-489f-b5d9-bfafc2c7e624" data-macro-parameters="language=bash" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading174f.png?definition=e2NvZGU6bGFuZ3VhZ2U9YmFzaH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre># If you have eZ Platform standard distribution, then available option is to do a clean install:
$ php -d memory_limit=-1 app/console ezplatform:install --env prod clean

# If have eZ Studio demo _or_ eZ Platform demo distribution, you may install demo instead:
$ php -d memory_limit=-1 app/console ezplatform:install --env prod demo </pre></td></tr></table><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="85a0f0b9-2cd5-4ed6-9bba-8a9901644674" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingd35c.png?definition=e2luZm99&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body">Password for the generated <code>admin</code> user is <code>publish</code>, this name and password is needed when you want to log in to backend UI. Future versions will prompt you for a unique password during installation.</td></tr></table><p> </p><p><strong>5. Access your installation</strong></p><p>You can now point your browser to the installation and browse the site. To access the UI backend, use the <code>/ez</code> URL.</p></div>
</div>
</div>
</div>
        <p>&nbsp;</p>
    </body>

<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=31430597 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 23:53:41 GMT -->
</html>
