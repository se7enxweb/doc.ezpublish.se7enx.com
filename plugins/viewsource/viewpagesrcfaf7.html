                    
    
                    
    
                    
    
<!DOCTYPE html>
<html>
    
<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=32866325 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 10:15:29 GMT -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>View Source</title>
        <link rel="canonical" href="../../pages/viewpagefaf7.html?pageId=32866325" />
        <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager.resource-base-url-pattern"]="\"(?:(?:/s/.*?/_)?/download)\"";
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"\"";
WRM._unparsedData["com.atlassian.plugins.browser.metrics.browser-metrics-plugin:browser-metrics.feature-data-provider-legacy"]="true";
</script>
<link type="text/css" rel="stylesheet" href="../../s/1b9968ac17721e3a6947d14e3a43c3f8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch9c16.css?build-number=5983" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/f3685658010e413141854089096800b5/_/download/contextbatch/css/plugin.viewsource/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/df762e50bc83a9608020a1ff1476cda6-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5a0f37b8e5a58a48983bc1f25fb099f6/_/download/contextbatch/css/page/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5a0f37b8e5a58a48983bc1f25fb099f6/_/download/contextbatch/css/page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/5714bd5a5c86641cad10106916cda7c8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/49f5f7dfc888d48bff618d087d8044cc/_/download/contextbatch/css/editor-content/batch.css" media="all">
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/49f5f7dfc888d48bff618d087d8044cc/_/download/contextbatch/css/editor-content/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/6/_/styles/colors74cd.css?spaceKey=DEVELOPER" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/6/_/styles/custom74cd.css?spaceKey=DEVELOPER" media="all">

    </head>

    <body class="mceContentBody aui-theme-default wiki-content fullsize">
        <p>&nbsp;</p>         <div class="contentLayout2">
<div class="columnLayout two-right-sidebar" data-layout="two-right-sidebar">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>For security reasons, there is no need for web server to have access to write to other directories.</p><h2>Set the owner and clean directories<em><br /></em></h2><p>First, change <code>www-data</code> to your web server user.</p><h3>Clean the cache/ and logs/ directories</h3><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="fbb59b90-021d-4d84-8799-71fe94bef842" data-macro-parameters="language=bash|theme=RDark" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading613e.png?definition=e2NvZGU6bGFuZ3VhZ2U9YmFzaHx0aGVtZT1SRGFya30&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>$ rm -rf app/cache/* app/logs/* </pre></td></tr></table><h2>Use the right option according to your system.</h2><h3>A. Using ACL on a <em><span class="blob-code-inner"><span class="pl-mb"><span class="x x-first x-last">Linux/BSD </span></span></span></em>system that supports chmod +a</h3><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="9d984a0f-4f3a-4839-807c-c01d6e90a6cd" data-macro-parameters="language=bash|theme=RDark|title=Using ACL on a Linux/BSD system that supports chmod +a" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingd1b4.png?definition=e2NvZGU6bGFuZ3VhZ2U9YmFzaHx0aGVtZT1SRGFya3x0aXRsZT1Vc2luZyBBQ0wgb24gYSBMaW51eC9CU0Qgc3lzdGVtIHRoYXQgc3VwcG9ydHMgY2htb2QgK2F9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>$ sudo chmod +a "www-data allow delete,write,append,file_inherit,directory_inherit" \
  app/cache app/logs web
$ sudo chmod +a "`whoami` allow delete,write,append,file_inherit,directory_inherit" \
  app/cache app/logs web</pre></td></tr></table><h3>B. Using ACL on a <em><span class="blob-code-inner"><span class="pl-mb"><span class="x x-first x-last">Linux/BSD </span></span></span></em>system that does not support chmod +a</h3><p>Some systems don't support chmod +a, but do support another utility called setfacl. You may need to enable ACL support on your partition and install setfacl before using it (as is the case with Ubuntu), in this way:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="7375b7b9-ece8-4836-af5d-bd11e62945bf" data-macro-parameters="language=bash|theme=RDark|title=Using ACL on a Linux/BSD system that does not support chmod +a" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading5a77.png?definition=e2NvZGU6bGFuZ3VhZ2U9YmFzaHx0aGVtZT1SRGFya3x0aXRsZT1Vc2luZyBBQ0wgb24gYSBMaW51eC9CU0Qgc3lzdGVtIHRoYXQgZG9lcyBub3Qgc3VwcG9ydCBjaG1vZCArYX0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>$ sudo setfacl -R -m u:www-data:rwx -m u:`whoami`:rwx \
  app/cache app/logs web
$ sudo setfacl -dR -m u:www-data:rwx -m u:`whoami`:rwx \
  app/cache app/logs web</pre></td></tr></table><h3>C. Using chown on <em><span class="blob-code-inner"><span class="pl-mb"><span class="x x-first x-last">Linux/BSD/OS X</span></span></span></em> systems that don't support ACL</h3><p>Some systems don't support ACL at all. You will need to set your web server's user as the owner of the required directories:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="d8f24d86-8c3b-4693-963a-c649f889c80a" data-macro-parameters="language=bash|theme=RDark|title= Using chown on Linux/BSD/OS X systems that don't support ACL" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading9d2e.png?definition=e2NvZGU6bGFuZ3VhZ2U9YmFzaHx0aGVtZT1SRGFya3x0aXRsZT0gVXNpbmcgY2hvd24gb24gTGludXgvQlNEL09TIFggc3lzdGVtcyB0aGF0IGRvbid0IHN1cHBvcnQgQUNMfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>$ sudo chown -R www-data:www-data app/cache app/logs web
$ sudo find {app/{cache,logs},web} -type d | xargs sudo chmod -R 775
$ sudo find {app/{cache,logs},web} -type f | xargs sudo chmod -R 664</pre></td></tr></table><h3>D. Using chmod <span class="blob-code-inner"><span class="pl-mb"><span class="x x-first x-last"> on a <em>Linux/BSD/OS X</em> system where you can't change owner</span></span></span><strong><br /></strong></h3><p>If you can't use ACL and aren't allowed to change owner, you can use chmod, making the files writable by everybody. Note that this method really isn't recommended as it allows any user to do anything:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="a13c3249-adfd-4037-afad-fd707dc7d815" data-macro-parameters="language=bash|theme=RDark|title=Using chmod on a Linux/BSD/OS X system where you can't change owner" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading4ad0.png?definition=e2NvZGU6bGFuZ3VhZ2U9YmFzaHx0aGVtZT1SRGFya3x0aXRsZT1Vc2luZyBjaG1vZCBvbiBhIExpbnV4L0JTRC9PUyBYIHN5c3RlbSB3aGVyZSB5b3UgY2FuJ3QgY2hhbmdlIG93bmVyfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>$ sudo find {app/{cache,logs},web} -type d | xargs sudo chmod -R 777
$ sudo find {app/{cache,logs},web} -type f | xargs sudo chmod -R 666</pre></td></tr></table><p>When using chmod, note that newly created files (such as cache) owned by the web server's user may have different/restrictive permissions. In this case, it may be required to change the umask so that the cache and log directories will be group-writable or world-writable (<code>umask(0002)</code> or <code>umask(0000)</code> respectively).</p><p>It may also possible to add the group ownership inheritance flag so new files inherit the current group, and use <code>775</code>/<code>664</code> in the command lines above instead of world-writable:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="b9e0da85-1692-43ca-bce3-7c789d3e55c6" data-macro-parameters="language=bash|theme=RDark|title=It may also possible to add the group ownership inheritance flag" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading4714.png?definition=e2NvZGU6bGFuZ3VhZ2U9YmFzaHx0aGVtZT1SRGFya3x0aXRsZT1JdCBtYXkgYWxzbyBwb3NzaWJsZSB0byBhZGQgdGhlIGdyb3VwIG93bmVyc2hpcCBpbmhlcml0YW5jZSBmbGFnfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>$ sudo chmod g+s {app/{cache,logs},web}</pre></td></tr></table><h3>E. Setup folder rights on Windows</h3><p>For your choice of web server you'll need to make sure web server user has read access to <code>&lt;root-dir&gt;</code>, and write access to the following directories:</p><ul><li>app/cache</li><li>app/logs</li></ul></div>
</div>
<div class="cell aside" data-type="aside">
<div class="innerCell">
<p><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macro4170.png?definition=e3RvY30&amp;locale=en_GB&amp;version=2" data-macro-name="toc" data-macro-id="e8c8ea14-99a7-4014-8ae9-27a48d6b92d6" data-macro-schema-version="1"></p></div>
</div>
</div>
</div>
        <p>&nbsp;</p>
    </body>

<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=32866325 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 10:15:30 GMT -->
</html>
